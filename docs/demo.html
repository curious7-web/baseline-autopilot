<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Baseline Autopilot | Scan Report</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Roboto+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <style>
        body { background-color: #0d1117; color: #c9d1d9; font-family: 'Inter', sans-serif; margin: 0; padding: 40px; visibility: hidden; }
        header { text-align: center; margin-bottom: 40px; }
        h1 { font-size: 2.5em; color: #58a6ff; }
        .stats-container { display: grid; grid-template-columns: 200px 200px 1fr; gap: 30px; justify-content: center; margin-bottom: 40px; align-items: start; max-width: 1200px; margin-left: auto; margin-right: auto; }
        .stat-card, .insights-card { background-color: #161b22; padding: 25px; border-radius: 10px; border: 1px solid #30363d; }
        .stat-card { text-align: center; }
        .stat-value { font-size: 2.5em; font-weight: bold; color: white; }
        .stat-label { color: #8b949e; }
        .insights-card h2 { margin-top: 0; color: #c9d1d9; border-bottom: 1px solid #30363d; padding-bottom: 10px; }
        .insights-card ul { list-style: none; padding: 0; margin: 0; }
        .insights-card li { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid #21262d; }
        .insights-card li:last-child { border-bottom: none; }
        .insights-card a { color: #58a6ff; text-decoration: none; }
        .insights-card a:hover { text-decoration: underline; }
        .insight-details { display: flex; align-items: center; gap: 20px; }
        .browser-support { display: flex; gap: 5px; }
        .browser-icon { font-family: monospace; font-weight: bold; width: 24px; height: 24px; border-radius: 50%; display: grid; place-items: center; background: #f85149; color: white; opacity: 0.5; cursor: default; }
        .browser-icon.supported { background: #2ea043; opacity: 1; }
        .file-card { background-color: #161b22; border-radius: 10px; border: 1px solid #30363d; margin-bottom: 30px; overflow: hidden; max-width: 1200px; margin-left: auto; margin-right: auto; }
        h3 { padding: 15px 20px; margin: 0; border-bottom: 1px solid #30363d; color: #c9d1d9; }
        .diff-container { display: flex; }
        .code-pane { flex: 1; width: 50%; }
        .pane-header { padding: 10px; background-color: #010409; border-bottom: 1px solid #30363d; text-align: center; font-weight: bold; }
        .code-content { font-family: 'Roboto Mono', monospace; font-size: 14px; }
        .line { display: flex; align-items: stretch; }
        .line-num { background-color: #0d1117; color: #484f58; padding: 0 10px; text-align: right; min-width: 40px; user-select: none; border-right: 1px solid #30363d;}
        .line pre { margin: 0; padding: 0 15px; flex-grow: 1; white-space: pre-wrap; word-break: break-all; }
        .line-added { background-color: rgba(46, 160, 67, 0.15); }
        .line-removed { background-color: rgba(248, 81, 73, 0.15); }
        .line-added .line-num { color: #3fb950; }
        .line-removed .line-num { color: #e5534b; }
    </style>
</head>
<body>
    <header><h1>ðŸš€ Baseline Autopilot Scan Report</h1></header>
    <div class="stats-container">
        <div class="stat-card"><div class="stat-value">5</div><div class="stat-label">Files Scanned</div></div>
        <div class="stat-card"><div class="stat-value">11</div><div class="stat-label">Issues Found</div></div>
        <div class="insights-card">
            <h2>Scan Insights</h2>
            <ul><li>
            <a href="https://developer.mozilla.org/en-US/search?q=css-container-queries" target="_blank">css-container-queries</a>
            <div class="insight-details">
                <div class="browser-support"><span class="browser-icon " title="chrome not supported">C</span><span class="browser-icon " title="firefox not supported">F</span><span class="browser-icon " title="safari not supported">S</span></div>
                <span>1 instance(s)</span>
            </div>
        </li><li>
            <a href="https://developer.mozilla.org/en-US/search?q=css-has" target="_blank">css-has</a>
            <div class="insight-details">
                <div class="browser-support"><span class="browser-icon " title="chrome not supported">C</span><span class="browser-icon " title="firefox not supported">F</span><span class="browser-icon " title="safari not supported">S</span></div>
                <span>1 instance(s)</span>
            </div>
        </li><li>
            <a href="https://developer.mozilla.org/en-US/search?q=css-aspect-ratio" target="_blank">css-aspect-ratio</a>
            <div class="insight-details">
                <div class="browser-support"><span class="browser-icon " title="chrome not supported">C</span><span class="browser-icon " title="firefox not supported">F</span><span class="browser-icon " title="safari not supported">S</span></div>
                <span>1 instance(s)</span>
            </div>
        </li><li>
            <a href="https://developer.mozilla.org/en-US/search?q=css-position-sticky" target="_blank">css-position-sticky</a>
            <div class="insight-details">
                <div class="browser-support"><span class="browser-icon " title="chrome not supported">C</span><span class="browser-icon " title="firefox not supported">F</span><span class="browser-icon " title="safari not supported">S</span></div>
                <span>1 instance(s)</span>
            </div>
        </li><li>
            <a href="https://developer.mozilla.org/en-US/search?q=css-focus-visible" target="_blank">css-focus-visible</a>
            <div class="insight-details">
                <div class="browser-support"><span class="browser-icon " title="chrome not supported">C</span><span class="browser-icon " title="firefox not supported">F</span><span class="browser-icon " title="safari not supported">S</span></div>
                <span>1 instance(s)</span>
            </div>
        </li><li>
            <a href="https://developer.mozilla.org/en-US/search?q=api-abortcontroller" target="_blank">api-abortcontroller</a>
            <div class="insight-details">
                <div class="browser-support"><span class="browser-icon " title="chrome not supported">C</span><span class="browser-icon " title="firefox not supported">F</span><span class="browser-icon " title="safari not supported">S</span></div>
                <span>2 instance(s)</span>
            </div>
        </li><li>
            <a href="https://developer.mozilla.org/en-US/search?q=javascript-promise-any" target="_blank">javascript-promise-any</a>
            <div class="insight-details">
                <div class="browser-support"><span class="browser-icon " title="chrome not supported">C</span><span class="browser-icon " title="firefox not supported">F</span><span class="browser-icon " title="safari not supported">S</span></div>
                <span>2 instance(s)</span>
            </div>
        </li><li>
            <a href="https://developer.mozilla.org/en-US/search?q=javascript-structuredclone" target="_blank">javascript-structuredclone</a>
            <div class="insight-details">
                <div class="browser-support"><span class="browser-icon " title="chrome not supported">C</span><span class="browser-icon " title="firefox not supported">F</span><span class="browser-icon " title="safari not supported">S</span></div>
                <span>2 instance(s)</span>
            </div>
        </li></ul>
        </div>
    </div>
    
            <div class="file-card">
                <h3>basic.css</h3>
                <div class="diff-container">
                    <div class="code-pane"><div class="pane-header">Before</div><div class="code-content language-css"><div class="line "><span class="line-num">1</span><pre><code>/* basic.css */</code></pre></div><div class="line "><span class="line-num">2</span><pre><code>/* Your tool should NOT find any issues in this file. */</code></pre></div><div class="line "><span class="line-num">3</span><pre><code></code></pre></div><div class="line "><span class="line-num">4</span><pre><code>body {</code></pre></div><div class="line "><span class="line-num">5</span><pre><code>  margin: 0;</code></pre></div><div class="line "><span class="line-num">6</span><pre><code>  padding: 0;</code></pre></div><div class="line "><span class="line-num">7</span><pre><code>  font-family: sans-serif;</code></pre></div><div class="line "><span class="line-num">8</span><pre><code>  color: #333;</code></pre></div><div class="line "><span class="line-num">9</span><pre><code>}</code></pre></div></div></div>
                    <div class="code-pane"><div class="pane-header">After</div><div class="code-content language-css"><div class="line "><span class="line-num">1</span><pre><code>/* basic.css */</code></pre></div><div class="line "><span class="line-num">2</span><pre><code>/* Your tool should NOT find any issues in this file. */</code></pre></div><div class="line "><span class="line-num">3</span><pre><code></code></pre></div><div class="line "><span class="line-num">4</span><pre><code>body {</code></pre></div><div class="line "><span class="line-num">5</span><pre><code>  margin: 0;</code></pre></div><div class="line "><span class="line-num">6</span><pre><code>  padding: 0;</code></pre></div><div class="line "><span class="line-num">7</span><pre><code>  font-family: sans-serif;</code></pre></div><div class="line "><span class="line-num">8</span><pre><code>  color: #333;</code></pre></div><div class="line "><span class="line-num">9</span><pre><code>}</code></pre></div></div></div>
                </div>
            </div>
            <div class="file-card">
                <h3>demo1.css</h3>
                <div class="diff-container">
                    <div class="code-pane"><div class="pane-header">Before</div><div class="code-content language-css"><div class="line "><span class="line-num">1</span><pre><code>/* comprehensive-unsafe.css */</code></pre></div><div class="line "><span class="line-num">2</span><pre><code></code></pre></div><div class="line "><span class="line-num">3</span><pre><code>/* Feature: Container Queries */</code></pre></div><div class="line line-removed"><span class="line-num">4</span><pre><code>@container (min-width: 800px) {</code></pre></div><div class="line "><span class="line-num">5</span><pre><code>  .widget {</code></pre></div><div class="line "><span class="line-num">6</span><pre><code>    font-size: 1.2rem;</code></pre></div><div class="line "><span class="line-num">7</span><pre><code>  }</code></pre></div><div class="line "><span class="line-num">8</span><pre><code>}</code></pre></div><div class="line "><span class="line-num">9</span><pre><code></code></pre></div><div class="line "><span class="line-num">10</span><pre><code>/* Feature: :has() selector */</code></pre></div><div class="line line-removed"><span class="line-num">11</span><pre><code>article:has(h2.special) {</code></pre></div><div class="line "><span class="line-num">12</span><pre><code>  border: 2px solid purple;</code></pre></div><div class="line "><span class="line-num">13</span><pre><code>}</code></pre></div><div class="line "><span class="line-num">14</span><pre><code></code></pre></div><div class="line "><span class="line-num">15</span><pre><code>/* Feature: aspect-ratio */</code></pre></div><div class="line "><span class="line-num">16</span><pre><code>.responsive-video {</code></pre></div><div class="line line-removed"><span class="line-num">17</span><pre><code>  aspect-ratio: 16 / 9;</code></pre></div><div class="line "><span class="line-num">18</span><pre><code>  width: 100%;</code></pre></div><div class="line "><span class="line-num">19</span><pre><code>}</code></pre></div><div class="line "><span class="line-num">20</span><pre><code></code></pre></div><div class="line "><span class="line-num">21</span><pre><code>/* Feature: position: sticky */</code></pre></div><div class="line "><span class="line-num">22</span><pre><code>nav.main-nav {</code></pre></div><div class="line "><span class="line-num">23</span><pre><code>  position: sticky;</code></pre></div><div class="line "><span class="line-num">24</span><pre><code>  top: 0;</code></pre></div><div class="line "><span class="line-num">25</span><pre><code>  background: #fff;</code></pre></div><div class="line "><span class="line-num">26</span><pre><code>}</code></pre></div><div class="line "><span class="line-num">27</span><pre><code></code></pre></div><div class="line "><span class="line-num">28</span><pre><code>/* Feature: :focus-visible */</code></pre></div><div class="line line-removed"><span class="line-num">29</span><pre><code>a:focus-visible {</code></pre></div><div class="line "><span class="line-num">30</span><pre><code>  outline: 3px solid skyblue;</code></pre></div><div class="line "><span class="line-num">31</span><pre><code>}</code></pre></div></div></div>
                    <div class="code-pane"><div class="pane-header">After</div><div class="code-content language-css"><div class="line "><span class="line-num">1</span><pre><code>/* comprehensive-unsafe.css */</code></pre></div><div class="line "><span class="line-num">2</span><pre><code></code></pre></div><div class="line "><span class="line-num">3</span><pre><code>/* Feature: Container Queries */</code></pre></div><div class="line line-added"><span class="line-num">4</span><pre><code>/* fallback for @container */</code></pre></div><div class="line line-added"><span class="line-num">5</span><pre><code>@media (min-width: 800px) {</code></pre></div><div class="line "><span class="line-num">6</span><pre><code>  .widget {</code></pre></div><div class="line "><span class="line-num">7</span><pre><code>    font-size: 1.2rem;</code></pre></div><div class="line "><span class="line-num">8</span><pre><code>  }</code></pre></div><div class="line "><span class="line-num">9</span><pre><code>}</code></pre></div><div class="line "><span class="line-num">10</span><pre><code></code></pre></div><div class="line "><span class="line-num">11</span><pre><code>/* Feature: :has() selector */</code></pre></div><div class="line line-added"><span class="line-num">12</span><pre><code>/* fallback for :has() */</code></pre></div><div class="line line-added"><span class="line-num">13</span><pre><code>article.has-h2special {</code></pre></div><div class="line "><span class="line-num">14</span><pre><code>  border: 2px solid purple;</code></pre></div><div class="line "><span class="line-num">15</span><pre><code>}</code></pre></div><div class="line "><span class="line-num">16</span><pre><code></code></pre></div><div class="line "><span class="line-num">17</span><pre><code>/* Feature: aspect-ratio */</code></pre></div><div class="line "><span class="line-num">18</span><pre><code>.responsive-video {</code></pre></div><div class="line line-added"><span class="line-num">19</span><pre><code>  padding-top: 56.25%;</code></pre></div><div class="line line-added"><span class="line-num">20</span><pre><code>  height: 0;</code></pre></div><div class="line line-added"><span class="line-num">21</span><pre><code>  position: relative;</code></pre></div><div class="line "><span class="line-num">22</span><pre><code>  width: 100%;</code></pre></div><div class="line "><span class="line-num">23</span><pre><code>}</code></pre></div><div class="line "><span class="line-num">24</span><pre><code></code></pre></div><div class="line "><span class="line-num">25</span><pre><code>/* Feature: position: sticky */</code></pre></div><div class="line "><span class="line-num">26</span><pre><code>nav.main-nav {</code></pre></div><div class="line "><span class="line-num">27</span><pre><code>  position: sticky;</code></pre></div><div class="line "><span class="line-num">28</span><pre><code>  top: 0;</code></pre></div><div class="line "><span class="line-num">29</span><pre><code>  background: #fff;</code></pre></div><div class="line "><span class="line-num">30</span><pre><code>}</code></pre></div><div class="line "><span class="line-num">31</span><pre><code></code></pre></div><div class="line "><span class="line-num">32</span><pre><code>/* Feature: :focus-visible */</code></pre></div><div class="line line-added"><span class="line-num">33</span><pre><code>a:focus {</code></pre></div><div class="line "><span class="line-num">34</span><pre><code>  outline: 3px solid skyblue;</code></pre></div><div class="line "><span class="line-num">35</span><pre><code>}</code></pre></div></div></div>
                </div>
            </div>
            <div class="file-card">
                <h3>comprehensive-unsafe.js</h3>
                <div class="diff-container">
                    <div class="code-pane"><div class="pane-header">Before</div><div class="code-content language-javascript"><div class="line line-removed"><span class="line-num">1</span><pre><code>// A complex script that uses multiple non-baseline features together.</code></pre></div><div class="line line-removed"><span class="line-num">2</span><pre><code></code></pre></div><div class="line "><span class="line-num">3</span><pre><code>async function processAndCloneData() {</code></pre></div><div class="line line-removed"><span class="line-num">4</span><pre><code>  // 1. AbortController is used to set a timeout for our API calls.</code></pre></div><div class="line line-removed"><span class="line-num">5</span><pre><code>  const controller = new AbortController();</code></pre></div><div class="line line-removed"><span class="line-num">6</span><pre><code>  const timeoutId = setTimeout(() =&gt; controller.abort(), 800);</code></pre></div><div class="line line-removed"><span class="line-num">7</span><pre><code></code></pre></div><div class="line line-removed"><span class="line-num">8</span><pre><code>  console.log('Racing two API endpoints...');</code></pre></div><div class="line line-removed"><span class="line-num">9</span><pre><code></code></pre></div><div class="line line-removed"><span class="line-num">10</span><pre><code>  try {</code></pre></div><div class="line line-removed"><span class="line-num">11</span><pre><code>    // 2. Promise.any races two fetch requests.</code></pre></div><div class="line line-removed"><span class="line-num">12</span><pre><code>    const firstSuccessfulResponse = await Promise.any([</code></pre></div><div class="line line-removed"><span class="line-num">13</span><pre><code>      fetch('/api/fast-endpoint', { signal: controller.signal }),</code></pre></div><div class="line line-removed"><span class="line-num">14</span><pre><code>      fetch('/api/slow-endpoint', { signal: controller.signal })</code></pre></div><div class="line line-removed"><span class="line-num">15</span><pre><code>    ]);</code></pre></div><div class="line line-removed"><span class="line-num">16</span><pre><code></code></pre></div><div class="line line-removed"><span class="line-num">17</span><pre><code>    clearTimeout(timeoutId); // Clear the timeout since a promise succeeded.</code></pre></div><div class="line line-removed"><span class="line-num">18</span><pre><code>    </code></pre></div><div class="line line-removed"><span class="line-num">19</span><pre><code>    const originalData = await firstSuccessfulResponse.json();</code></pre></div><div class="line line-removed"><span class="line-num">20</span><pre><code>    console.log('Received original data:', originalData);</code></pre></div><div class="line line-removed"><span class="line-num">21</span><pre><code></code></pre></div><div class="line line-removed"><span class="line-num">22</span><pre><code>    // 3. structuredClone is used to create a true deep copy of the complex data.</code></pre></div><div class="line line-removed"><span class="line-num">23</span><pre><code>    const clonedData = structuredClone(originalData);</code></pre></div><div class="line line-removed"><span class="line-num">24</span><pre><code>    clonedData.meta.processed = true;</code></pre></div><div class="line line-removed"><span class="line-num">25</span><pre><code>    </code></pre></div><div class="line line-removed"><span class="line-num">26</span><pre><code>    console.log('Successfully cloned and modified data:', clonedData);</code></pre></div><div class="line line-removed"><span class="line-num">27</span><pre><code>    return clonedData;</code></pre></div><div class="line line-removed"><span class="line-num">28</span><pre><code></code></pre></div><div class="line line-removed"><span class="line-num">29</span><pre><code>  } catch (error) {</code></pre></div><div class="line line-removed"><span class="line-num">30</span><pre><code>    if (error instanceof AggregateError) {</code></pre></div><div class="line line-removed"><span class="line-num">31</span><pre><code>      console.error('Both API calls failed:', error.errors);</code></pre></div><div class="line line-removed"><span class="line-num">32</span><pre><code>    } else {</code></pre></div><div class="line line-removed"><span class="line-num">33</span><pre><code>      console.error('An error occurred:', error.name);</code></pre></div><div class="line "><span class="line-num">34</span><pre><code>    }</code></pre></div><div class="line line-removed"><span class="line-num">35</span><pre><code>  }</code></pre></div><div class="line "><span class="line-num">36</span><pre><code>}</code></pre></div><div class="line line-removed"><span class="line-num">37</span><pre><code></code></pre></div><div class="line "><span class="line-num">38</span><pre><code>processAndCloneData();</code></pre></div></div></div>
                    <div class="code-pane"><div class="pane-header">After</div><div class="code-content language-javascript"><div class="line "><span class="line-num">1</span><pre><code>async function processAndCloneData() {</code></pre></div><div class="line line-added"><span class="line-num">2</span><pre><code>    const controller = new ManualAbortController();</code></pre></div><div class="line line-added"><span class="line-num">3</span><pre><code>    const timeoutId = setTimeout(() =&gt; controller.abort(), 800);</code></pre></div><div class="line line-added"><span class="line-num">4</span><pre><code>    console.log('Racing two API endpoints...');</code></pre></div><div class="line line-added"><span class="line-num">5</span><pre><code>    try {</code></pre></div><div class="line line-added"><span class="line-num">6</span><pre><code>        const firstSuccessfulResponse = await Promise.any([</code></pre></div><div class="line line-added"><span class="line-num">7</span><pre><code>            fetch('/api/fast-endpoint', { signal: controller.signal }),</code></pre></div><div class="line line-added"><span class="line-num">8</span><pre><code>            fetch('/api/slow-endpoint', { signal: controller.signal })</code></pre></div><div class="line line-added"><span class="line-num">9</span><pre><code>        ]);</code></pre></div><div class="line line-added"><span class="line-num">10</span><pre><code>        clearTimeout(timeoutId);</code></pre></div><div class="line line-added"><span class="line-num">11</span><pre><code>        const originalData = await firstSuccessfulResponse.json();</code></pre></div><div class="line line-added"><span class="line-num">12</span><pre><code>        console.log('Received original data:', originalData);</code></pre></div><div class="line line-added"><span class="line-num">13</span><pre><code>        const clonedData = structuredClone(originalData);</code></pre></div><div class="line line-added"><span class="line-num">14</span><pre><code>        clonedData.meta.processed = true;</code></pre></div><div class="line line-added"><span class="line-num">15</span><pre><code>        console.log('Successfully cloned and modified data:', clonedData);</code></pre></div><div class="line line-added"><span class="line-num">16</span><pre><code>        return clonedData;</code></pre></div><div class="line line-added"><span class="line-num">17</span><pre><code>    } catch (error) {</code></pre></div><div class="line line-added"><span class="line-num">18</span><pre><code>        if (error instanceof AggregateError) {</code></pre></div><div class="line line-added"><span class="line-num">19</span><pre><code>            console.error('Both API calls failed:', error.errors);</code></pre></div><div class="line line-added"><span class="line-num">20</span><pre><code>        } else {</code></pre></div><div class="line line-added"><span class="line-num">21</span><pre><code>            console.error('An error occurred:', error.name);</code></pre></div><div class="line line-added"><span class="line-num">22</span><pre><code>        }</code></pre></div><div class="line "><span class="line-num">23</span><pre><code>    }</code></pre></div><div class="line "><span class="line-num">24</span><pre><code>}</code></pre></div><div class="line "><span class="line-num">25</span><pre><code>processAndCloneData();</code></pre></div></div></div>
                </div>
            </div>
            <div class="file-card">
                <h3>demo1.js</h3>
                <div class="diff-container">
                    <div class="code-pane"><div class="pane-header">Before</div><div class="code-content language-javascript"><div class="line line-removed"><span class="line-num">1</span><pre><code>// A complex script that uses multiple non-baseline features together.</code></pre></div><div class="line line-removed"><span class="line-num">2</span><pre><code></code></pre></div><div class="line "><span class="line-num">3</span><pre><code>async function processAndCloneData() {</code></pre></div><div class="line line-removed"><span class="line-num">4</span><pre><code>  // 1. AbortController is used to set a timeout for our API calls.</code></pre></div><div class="line line-removed"><span class="line-num">5</span><pre><code>  const controller = new AbortController();</code></pre></div><div class="line line-removed"><span class="line-num">6</span><pre><code>  const timeoutId = setTimeout(() =&gt; controller.abort(), 800);</code></pre></div><div class="line line-removed"><span class="line-num">7</span><pre><code></code></pre></div><div class="line line-removed"><span class="line-num">8</span><pre><code>  console.log('Racing two API endpoints...');</code></pre></div><div class="line line-removed"><span class="line-num">9</span><pre><code></code></pre></div><div class="line line-removed"><span class="line-num">10</span><pre><code>  try {</code></pre></div><div class="line line-removed"><span class="line-num">11</span><pre><code>    // 2. Promise.any races two fetch requests.</code></pre></div><div class="line line-removed"><span class="line-num">12</span><pre><code>    const firstSuccessfulResponse = await Promise.any([</code></pre></div><div class="line line-removed"><span class="line-num">13</span><pre><code>      fetch('/api/fast-endpoint', { signal: controller.signal }),</code></pre></div><div class="line line-removed"><span class="line-num">14</span><pre><code>      fetch('/api/slow-endpoint', { signal: controller.signal })</code></pre></div><div class="line line-removed"><span class="line-num">15</span><pre><code>    ]);</code></pre></div><div class="line line-removed"><span class="line-num">16</span><pre><code></code></pre></div><div class="line line-removed"><span class="line-num">17</span><pre><code>    clearTimeout(timeoutId); // Clear the timeout since a promise succeeded.</code></pre></div><div class="line line-removed"><span class="line-num">18</span><pre><code>    </code></pre></div><div class="line line-removed"><span class="line-num">19</span><pre><code>    const originalData = await firstSuccessfulResponse.json();</code></pre></div><div class="line line-removed"><span class="line-num">20</span><pre><code>    console.log('Received original data:', originalData);</code></pre></div><div class="line line-removed"><span class="line-num">21</span><pre><code></code></pre></div><div class="line line-removed"><span class="line-num">22</span><pre><code>    // 3. structuredClone is used to create a true deep copy of the complex data.</code></pre></div><div class="line line-removed"><span class="line-num">23</span><pre><code>    const clonedData = structuredClone(originalData);</code></pre></div><div class="line line-removed"><span class="line-num">24</span><pre><code>    clonedData.meta.processed = true;</code></pre></div><div class="line line-removed"><span class="line-num">25</span><pre><code>    </code></pre></div><div class="line line-removed"><span class="line-num">26</span><pre><code>    console.log('Successfully cloned and modified data:', clonedData);</code></pre></div><div class="line line-removed"><span class="line-num">27</span><pre><code>    return clonedData;</code></pre></div><div class="line line-removed"><span class="line-num">28</span><pre><code></code></pre></div><div class="line line-removed"><span class="line-num">29</span><pre><code>  } catch (error) {</code></pre></div><div class="line line-removed"><span class="line-num">30</span><pre><code>    if (error instanceof AggregateError) {</code></pre></div><div class="line line-removed"><span class="line-num">31</span><pre><code>      console.error('Both API calls failed:', error.errors);</code></pre></div><div class="line line-removed"><span class="line-num">32</span><pre><code>    } else {</code></pre></div><div class="line line-removed"><span class="line-num">33</span><pre><code>      console.error('An error occurred:', error.name);</code></pre></div><div class="line "><span class="line-num">34</span><pre><code>    }</code></pre></div><div class="line line-removed"><span class="line-num">35</span><pre><code>  }</code></pre></div><div class="line "><span class="line-num">36</span><pre><code>}</code></pre></div><div class="line line-removed"><span class="line-num">37</span><pre><code></code></pre></div><div class="line "><span class="line-num">38</span><pre><code>processAndCloneData();</code></pre></div></div></div>
                    <div class="code-pane"><div class="pane-header">After</div><div class="code-content language-javascript"><div class="line "><span class="line-num">1</span><pre><code>async function processAndCloneData() {</code></pre></div><div class="line line-added"><span class="line-num">2</span><pre><code>    const controller = new ManualAbortController();</code></pre></div><div class="line line-added"><span class="line-num">3</span><pre><code>    const timeoutId = setTimeout(() =&gt; controller.abort(), 800);</code></pre></div><div class="line line-added"><span class="line-num">4</span><pre><code>    console.log('Racing two API endpoints...');</code></pre></div><div class="line line-added"><span class="line-num">5</span><pre><code>    try {</code></pre></div><div class="line line-added"><span class="line-num">6</span><pre><code>        const firstSuccessfulResponse = await Promise.any([</code></pre></div><div class="line line-added"><span class="line-num">7</span><pre><code>            fetch('/api/fast-endpoint', { signal: controller.signal }),</code></pre></div><div class="line line-added"><span class="line-num">8</span><pre><code>            fetch('/api/slow-endpoint', { signal: controller.signal })</code></pre></div><div class="line line-added"><span class="line-num">9</span><pre><code>        ]);</code></pre></div><div class="line line-added"><span class="line-num">10</span><pre><code>        clearTimeout(timeoutId);</code></pre></div><div class="line line-added"><span class="line-num">11</span><pre><code>        const originalData = await firstSuccessfulResponse.json();</code></pre></div><div class="line line-added"><span class="line-num">12</span><pre><code>        console.log('Received original data:', originalData);</code></pre></div><div class="line line-added"><span class="line-num">13</span><pre><code>        const clonedData = structuredClone(originalData);</code></pre></div><div class="line line-added"><span class="line-num">14</span><pre><code>        clonedData.meta.processed = true;</code></pre></div><div class="line line-added"><span class="line-num">15</span><pre><code>        console.log('Successfully cloned and modified data:', clonedData);</code></pre></div><div class="line line-added"><span class="line-num">16</span><pre><code>        return clonedData;</code></pre></div><div class="line line-added"><span class="line-num">17</span><pre><code>    } catch (error) {</code></pre></div><div class="line line-added"><span class="line-num">18</span><pre><code>        if (error instanceof AggregateError) {</code></pre></div><div class="line line-added"><span class="line-num">19</span><pre><code>            console.error('Both API calls failed:', error.errors);</code></pre></div><div class="line line-added"><span class="line-num">20</span><pre><code>        } else {</code></pre></div><div class="line line-added"><span class="line-num">21</span><pre><code>            console.error('An error occurred:', error.name);</code></pre></div><div class="line line-added"><span class="line-num">22</span><pre><code>        }</code></pre></div><div class="line "><span class="line-num">23</span><pre><code>    }</code></pre></div><div class="line "><span class="line-num">24</span><pre><code>}</code></pre></div><div class="line "><span class="line-num">25</span><pre><code>processAndCloneData();</code></pre></div></div></div>
                </div>
            </div>
            <div class="file-card">
                <h3>demo2.js</h3>
                <div class="diff-container">
                    <div class="code-pane"><div class="pane-header">Before</div><div class="code-content language-javascript"><div class="line line-removed"><span class="line-num">1</span><pre><code>// modern-but-safe.js</code></pre></div><div class="line line-removed"><span class="line-num">2</span><pre><code>// Your tool should NOT find any issues in this file.</code></pre></div><div class="line line-removed"><span class="line-num">3</span><pre><code></code></pre></div><div class="line line-removed"><span class="line-num">4</span><pre><code>const getUserProfile = async (id) =&gt; {</code></pre></div><div class="line line-removed"><span class="line-num">5</span><pre><code>  const response = await fetch(`https://api.example.com/users/${id}`);</code></pre></div><div class="line line-removed"><span class="line-num">6</span><pre><code>  const user = await response.json();</code></pre></div><div class="line line-removed"><span class="line-num">7</span><pre><code>  </code></pre></div><div class="line line-removed"><span class="line-num">8</span><pre><code>  // These are modern but baseline-supported features</code></pre></div><div class="line line-removed"><span class="line-num">9</span><pre><code>  const street = user?.address?.street ?? 'No street provided';</code></pre></div><div class="line line-removed"><span class="line-num">10</span><pre><code>  return `User ${user.name} lives on ${street}.`;</code></pre></div><div class="line "><span class="line-num">11</span><pre><code>};</code></pre></div><div class="line line-removed"><span class="line-num">12</span><pre><code></code></pre></div><div class="line "><span class="line-num">13</span><pre><code>getUserProfile(1);</code></pre></div></div></div>
                    <div class="code-pane"><div class="pane-header">After</div><div class="code-content language-javascript"><div class="line line-added"><span class="line-num">1</span><pre><code>const getUserProfile = async id =&gt; {</code></pre></div><div class="line line-added"><span class="line-num">2</span><pre><code>    const response = await fetch(`https://api.example.com/users/${ id }`);</code></pre></div><div class="line line-added"><span class="line-num">3</span><pre><code>    const user = await response.json();</code></pre></div><div class="line line-added"><span class="line-num">4</span><pre><code>    const street = user?.address?.street ?? 'No street provided';</code></pre></div><div class="line line-added"><span class="line-num">5</span><pre><code>    return `User ${ user.name } lives on ${ street }.`;</code></pre></div><div class="line "><span class="line-num">6</span><pre><code>};</code></pre></div><div class="line "><span class="line-num">7</span><pre><code>getUserProfile(1);</code></pre></div></div></div>
                </div>
            </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
        document.body.style.visibility = 'visible';
    </script>
</body>
</html>